<html xmlns:th="http://www.thymeleaf.org" xmlns: sec="http://www.thymeleaf.org/extras/spring-security">

    <head th:replace="/fragments/head :: head"> </head>

    <body class="m-o p-o h-screen flex flex-col degradado h-screen overflow-y-auto">
        <header class="navcolor">
            <nav th:replace="/fragments/navbar :: nav">  </nav>
        </header>

        <main class="mx-auto  w-full flex max-w-7xl p-6 lg:px-8  flex-grow grid grid-flow-row-2 m-y-4 gap-4 " >

            <section>
                <form method="GET" id="searchForm" action="/busqueda">
                    <div class="relative flex w-fit flex-wrap items-stretch">
                        <input type="search" name="busqueda" placeholder="Buscar Servicio o Proveedor" class="border py-1.5 px-4 w-96 rounded-full text-sm focus:outline-none">

                        <p for="ordenarPor" class="flex whitespace-nowrap rounded-l py-1 px-2 text-center text-base font-normal leading-[1.6] text-[#0F2C59]">Ordenar por:</p>

                        <select name="ordenarPor" id="ordenarPor" onchange="submitForm()" class="block w-40 rounded-md border-0 py-1.5 px-3 text-gray-400 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                            <option value="" disabled selected>Elija una opción</option>
                            <option value="nombre">Nombre</option>
                            <option value="calificacion">Calificación</option>
                            <option th:if="${session.usersession != null}" value="costoHoraAsc">Costo por Hora (Menor a Mayor)</option>
                            <option th:if="${session.usersession != null}" value="costoHoraDesc">Costo por Hora (Mayor a Menor)</option>
                        </select>

                    </div>
                </form>
            </section>


            <section>
                <p class="text-lg font-sans leading-6 textcolor gap-x-1">Resultados de la Busqueda:</p><br>
                <div class="caracteristicas ">
                    <div class="w-full interior-caracteristicas grid  grid-cols-3 m-y-4 gap-4  ">
                        <div class="box w-full gap-x-1 w-full lg:w-100 p-2 border rounded-md drop-shadow-md "th:each="item: ${listSearch}">
                            <h4 class="font-sans " th:text="${item.nombre}"></h4>
                            <p  id="puntuacion" th:text="${item.puntuacion}" class="hidden"></p>
                            <ul class="estrellas" ></ul>
                            <p class="text-base font-sans " th:text="${item.especialidad.nombre}"></p>
                            <p class="text-base font-sans " th:if="${session.usersession != null}" th:text="'Teléfono: ' + ${item.telefono}"></p>
                            <p class="text-base font-sans " th:if="${session.usersession != null}" th:text="'Costo por hora: ' + ${item.costoHora}"></p>
                            <a class="underline text-blue-500 text-xs" th:if="${session.usersession == null}" th:href="@{/login}">Conoce más de este proveedor</a>
                            <a class="underline text-blue-500 text-xs" th:if="${session.usersession != null}" th:href="@{/usuario/perfilOtro/__${item.id}__}">Conoce más de este proveedor</a>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <script  src="/index.js"></script>
        <footer th:replace="/fragments/footer :: footer">  </footer>

        <script src="/busqueda.js"></script>
    </body>
</html>